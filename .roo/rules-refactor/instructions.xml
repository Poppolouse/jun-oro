<?xml version="1.0" encoding="utf-8"?>
<!-- Refactor mode instructions for 'refactor' mode -->
<refactor_instructions>
  <metadata>
    <slug>refactor</slug>
    <name>ğŸ”¨ Refactor UstasÄ±</name>
    <description>Kod dÃ¼zenleme, bileÅŸen ayrÄ±ÅŸtÄ±rma ve yapÄ±sal iyileÅŸtirmeler</description>
    <language>tr</language>
  </metadata>
  <general_principles>
    <principle name="single_responsibility">
      <title>Single Responsibility Principle</title>
      <details>
        Her bileÅŸen veya fonksiyon tek bir sorumluluk taÅŸÄ±yacak ÅŸekilde tasarlanmalÄ±.
        Bir dosya 300 satÄ±rÄ± aÅŸÄ±yorsa MUTLAKA bÃ¶lÃ¼nmelidir.
      </details>
      <example>AdminPanel â†’ UserManagement, ApiKeysPanel, R2Panel</example>
    </principle>
    <principle name="dry">
      <title>DRY (Don't Repeat Yourself)</title>
      <details>
        Tekrar eden kod custom hook, utility veya shared component'e taÅŸÄ±nmalÄ±.
        Utility fonksiyonlarÄ± src/utils/ altÄ±nda toplanmalÄ±.
      </details>
    </principle>
    <principle name="turkish_requirements">
      <title>TÃ¼rkÃ§e ZorunluluÄŸu</title>
      <details>
        Commit mesajlarÄ±, aÃ§Ä±klamalar ve TODO yorumlarÄ± TÃœRKÃ‡E yazÄ±lmalÄ±dÄ±r.
        Kod iÃ§i deÄŸiÅŸken/fonksiyon isimleri Ä°ngilizce bÄ±rakÄ±labilir.
      </details>
    </principle>
    <principle name="backward_compatibility">
      <title>Backward Compatibility</title>
      <details>
        Mevcut import'larÄ± bozmadan ayrÄ±ÅŸtÄ±rma yapÄ±lmalÄ±.
        Breaking change varsa baÅŸÄ±na <warning>ğŸš¨ DÄ°KKAT</warning> etiketi ekle.
        Eski export'larÄ± koruyarak re-export yap.
      </details>
    </principle>
    <principle name="testing_validation">
      <title>Test ve DoÄŸrulama</title>
      <details>
        Her refactor adÄ±mÄ± sonrasÄ± davranÄ±ÅŸÄ±n aynÄ± kaldÄ±ÄŸÄ±nÄ± doÄŸrula.
        console.log ile temel testler yap, import hatalarÄ±nÄ± kontrol et.
      </details>
    </principle>
  </general_principles>
  <refactoring_strategies>
    <strategy name="split_large_file">
      <title>BÃ¼yÃ¼k Dosya BÃ¶lme</title>
      <steps>
        <step>DosyayÄ± oku ve logical bÃ¶lÃ¼mleri tespit et</step>
        <step>Her bÃ¶lÃ¼m iÃ§in ayrÄ± dosya oluÅŸtur: src/components/[Module]/[Component].jsx</step>
        <step>State ve fonksiyonlarÄ± yeni dosyaya taÅŸÄ±</step>
        <step>Props interface veya PropTypes tanÄ±mla</step>
        <step>Ana dosyada re-export veya import ile baÄŸla</step>
        <step>Gereksiz kodu temizle</step>
      </steps>
      <validation>Yeni dosya 300 satÄ±rÄ±n altÄ±nda olmalÄ± ve testler geÃ§meli</validation>
    </strategy>
    <strategy name="state_management">
      <title>State Management Refactor</title>
      <details>
        Birden fazla bileÅŸen aynÄ± state'i kullanÄ±yorsa custom hook oluÅŸtur.
        Global state gerekiyorsa Context API kullan; UI-only state ise local tut.
        Async iÅŸlemler iÃ§in React Query veya useSWR dÃ¼ÅŸÃ¼n.
      </details>
    </strategy>
    <strategy name="props_drilling">
      <title>Props Drilling Ã‡Ã¶zÃ¼mÃ¼</title>
      <rules>
        <rule>3+ seviye props varsa Context API kullan</rule>
        <rule>Sadece birkaÃ§ bileÅŸene gerekliyse composition pattern uygula</rule>
        <rule>State lift up ile en yakÄ±n ortak parent'a taÅŸÄ±</rule>
      </rules>
    </strategy>
    <strategy name="custom_hooks">
      <title>Custom Hook OluÅŸturma</title>
      <rules>
        <rule>Tekrar eden useEffect/useState kombinasyonlarÄ± iÃ§in hook yaz</rule>
        <rule>API Ã§aÄŸrÄ±larÄ± iÃ§in useApiCall</rule>
        <rule>Form yÃ¶netimi iÃ§in useForm</rule>
        <rule>Modal state iÃ§in useModal</rule>
      </rules>
    </strategy>
  </refactoring_strategies>
  <file_organization>
    <structure>
      <![CDATA[
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Settings/
â”‚   â”‚   â”œâ”€â”€ AdminPanel.jsx
â”‚   â”‚   â”œâ”€â”€ UserManagement.jsx
â”‚   â”‚   â”œâ”€â”€ ApiKeysPanel.jsx
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ Modal.jsx
â”‚       â””â”€â”€ Button.jsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSettingsData.js
â”‚   â””â”€â”€ useModal.js
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ formatters.js
â”‚   â””â”€â”€ validators.js
â””â”€â”€ pages/
    â””â”€â”€ SettingsPage.jsx
    ]]>
    </structure>
    <guidance>ModÃ¼l bazlÄ± organizasyon ve re-export kullanÄ±mÄ± tercih edilir</guidance>
  </file_organization>
  <common_pitfalls>
    <pitfall>
      <title>TÃ¼m state'i hemen Context'e taÅŸÄ±mak</title>
      <solution>Ã–nce global ihtiyaÃ§ analiz et; local state yeterliyse local bÄ±rak</solution>
    </pitfall>
    <pitfall>
      <title>Tek seferde her ÅŸeyi refactor etmek</title>
      <solution>Incremental refactor yap, her adÄ±mÄ± test et</solution>
    </pitfall>
    <pitfall>
      <title>Import path'leri kÄ±rÄ±lmasÄ±</title>
      <solution>Ã–nce re-export ile mevcut yollarÄ± koru, sonra import'larÄ± gÃ¼ncelle</solution>
    </pitfall>
    <pitfall>
      <title>Props interface tanÄ±mlamadan ayÄ±rmak</title>
      <solution>Her bileÅŸen iÃ§in PropTypes veya TypeScript interface yaz</solution>
    </pitfall>
  </common_pitfalls>
  <quality_checklist>
    <before>
      <item>Mevcut kodu tam anladÄ±m mÄ±?</item>
      <item>Hangi bÃ¶lÃ¼mler ayrÄ±lacak belirledim mi?</item>
      <item>Breaking change var mÄ±?</item>
      <item>BaÄŸÄ±mlÄ±lÄ±klarÄ± tespit ettim mi?</item>
    </before>
    <during>
      <item>Yeni dosya oluÅŸturdum</item>
      <item>State ve fonksiyonlarÄ± taÅŸÄ±dÄ±m</item>
      <item>Props interface tanÄ±mladÄ±m</item>
      <item>Import/export dÃ¼zenledim</item>
      <item>Gereksiz kodu kaldÄ±rdÄ±m</item>
    </during>
    <after>
      <item>Console error yok</item>
      <item>Import hatalarÄ± yok</item>
      <item>DavranÄ±ÅŸ deÄŸiÅŸmedi</item>
      <item>Dosya boyutlarÄ± makul (<300 satÄ±r)</item>
      <item>Commit mesajÄ± aÃ§Ä±klayÄ±cÄ± (TÃ¼rkÃ§e)</item>
    </after>
  </quality_checklist>
  <examples>
    <example name="adminpanel_split">
      <title>AdminPanel AyrÄ±ÅŸtÄ±rma</title>
      <description>AdminPanel 1200 satÄ±r, 6 panel iÃ§eriyor</description>
      <solution>
        <![CDATA[
 1. Her panel iÃ§in ayrÄ± dosya: UserManagement.jsx, ApiKeysPanel.jsx, vb.
 2. Shared state'i useSettingsData hook'una taÅŸÄ±
 3. AdminPanel sadece routing ve layout yapsÄ±n
 SonuÃ§: AdminPanel ~150 satÄ±r, her panel 200-250 satÄ±r
        ]]>
      </solution>
    </example>
    <example name="duplicate_api_calls">
      <title>Tekrar Eden API Ã‡aÄŸrÄ±larÄ±</title>
      <solution>
        <![CDATA[
 1. hooks/useApiCall.js oluÅŸtur
 2. Loading, error, data state'lerini kapsÃ¼lle
 3. Retry, cache mekanizmasÄ± ekle
 KullanÄ±m: const { data, loading, error } = useApiCall('/api/users')
        ]]>
      </solution>
    </example>
    <example name="props_drilling">
      <title>Props Drilling</title>
      <solution>
        <![CDATA[
 1. contexts/UserContext.js oluÅŸtur
 2. UserProvider en Ã¼st seviyeye ekle
 3. Alt bileÅŸenlerde useUser() hook'u kullan
        ]]>
      </solution>
    </example>
  </examples>
  <mermaid_examples>
    <diagram><![CDATA[
graph TD
  A[SettingsPage 1200 satÄ±r] --> B[Refactor]
  B --> C[SettingsPage 150 satÄ±r]
  B --> D[UserManagement 200 satÄ±r]
  B --> E[ApiKeysPanel 180 satÄ±r]
  B --> F[useSettingsData hook]
    ]]></diagram>
  </mermaid_examples>
  <tool_usage>
    <note>Bu talimatlar apply_diff ve write_to_file ile birlikte kullanÄ±lacak ÅŸekilde tasarlandÄ±</note>
    <best_practices>
      <item>Bir dosyayÄ± deÄŸiÅŸtirmeden Ã¶nce read_file ile iÃ§eriÄŸi oku</item>
      <item>apply_diff kullanÄ±rken SEARCH bloÄŸunun tam eÅŸleÅŸtiÄŸinden emin ol</item>
      <item>Birden fazla kÃ¼Ã§Ã¼k deÄŸiÅŸikliÄŸi tek apply_diff isteÄŸinde birleÅŸtir</item>
      <item>Commit mesajlarÄ±nÄ± TÃ¼rkÃ§e yaz: "Refactor: AdminPanel ayrÄ±ÅŸtÄ±rÄ±ldÄ±"</item>
    </best_practices>
  </tool_usage>
</refactor_instructions>